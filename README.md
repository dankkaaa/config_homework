# Транслятор учебного конфигурационного языка в JSON

Практическая реализация транслятора для учебного конфигурационного языка, который преобразует специально разработанный синтаксис в формат JSON.

## Описание

Транслятор выполняет полный процесс обработки исходного текста:
1. **Лексический анализ** — разбор текста на токены (лексемы)
2. **Синтаксический анализ** — построение и интерпретация синтаксической структуры
3. **Трансляция в JSON** — преобразование результата в формат JSON

## Поддерживаемые конструкции языка

### Определение констант

```
(def имя значение);
```

Примеры:
```
(def port 8080);
(def host 'localhost');
```

### Значения

Язык поддерживает четыре типа значений:

#### Числа
Целые числа со знаками (опционально) и без ведущих нулей:
```
(def count 42);
(def temperature -15);
(def amount +100);
```

#### Строки
Строки в одинарных кавычках:
```
(def name 'application');
(def path '/home/user');
```

#### Структуры (struct)
Объекты с именованными полями. Поддерживают произвольную вложенность:
```
(def server struct {
    name = 'main',
    port = 8080,
    enabled = 1
});

(def config struct {
    app = struct {
        version = '1.0',
        debug = 1
    },
    server = .(server).
});
```

#### Подстановки констант
Ссылки на ранее определённые константы синтаксисом `.(имя).`:
```
(def host 'localhost');
(def connection struct {
    host = .(host).,
    port = 8080
});
```

### Комментарии

#### Однострочные комментарии
```
REM это комментарий до конца строки
```

#### Многострочные комментарии
```
--[[
это многострочный
комментарий
]]
```

## Установка и использование

### Требования
- Python 3.6+
- Стандартная библиотека (argparse, json, sys)

### Запуск

```bash
python3 main.py --input config.txt --output result.json
```

**Параметры:**
- `--input, -i` — путь к входному файлу конфигурации (обязателен)
- `--output, -o` — путь к выходному JSON-файлу (обязателен)

### Пример

**Входной файл (config.txt):**
```
REM пример конфигурации

(def port 8080);
(def host 'localhost');

--[[
многострочный
комментарий
]]
(def server struct {
    name = 'main',
    address = struct {
        host = .(host).,
        port = .(port).
    },
    enabled = 1
});
```

**Команда:**
```bash
python3 main.py -i config.txt -o result.json
```

**Выходной файл (result.json):**
```json
{
  "port": 8080,
  "host": "localhost",
  "server": {
    "name": "main",
    "address": {
      "host": "localhost",
      "port": 8080
    },
    "enabled": 1
  }
}
```